{"ast":null,"code":"export function sortFoodBy(food, filtersData, page) {\n  const {\n    type,\n    inOrder\n  } = filtersData.sortBy;\n  const {\n    filters\n  } = filtersData;\n  const name = filtersData.name;\n  function sortBy() {\n    let copy = [...food];\n    switch (type) {\n      case \"price\":\n        return copy.sort((a, b) => !inOrder ? a.price - b.price : b.price - a.price);\n      case \"name\":\n        return copy.sort(function (a, b) {\n          if (a.name < b.name && inOrder || b.name < a.name && !inOrder) {\n            return -1;\n          }\n          if (a.name > b.name && inOrder || b.name > a.name && !inOrder) {\n            return 1;\n          }\n          return 0;\n        });\n      default:\n        return copy;\n    }\n  }\n  function filterBy(list) {\n    let conditions = filters.filter(function isBigEnough(item) {\n      return item.choosen === true && item.blocked === false;\n    }).map(item => item.name);\n    let blockades = filters.filter(function isBigEnough(item) {\n      return item.choosen === true && item.blocked === true;\n    }).map(item => item.name);\n    let result = list.filter(function isBigEnough(item) {\n      return conditions.length !== 0 ? conditions.every(el => item.category.includes(el)) === true : list;\n    });\n    let block = result.filter(function isBigEnough(item) {\n      return blockades.length !== 0 ? blockades.some(el => item.category.includes(el)) === false : result;\n    });\n    return block;\n  }\n  function checkString(data) {\n    return data.filter(function isBigEnough(item) {\n      return item.name.includes(name);\n    });\n  }\n  function cutAmount(data) {\n    return data.slice(page, 2 * page);\n  }\n  return cutAmount(checkString(filterBy(sortBy())));\n}\n\n// function filterBy(list: any) {\n//   let x = list.filter(function isBigEnough(item: any) {\n//     let xx = item.category;\n//     return xx.includes(\"Exotic\") ? item : null;\n//   });\n//   return x;\n// }\n\n// conditions.some((el: any) => item.category.includes(el))","map":{"version":3,"names":["sortFoodBy","food","filtersData","page","type","inOrder","sortBy","filters","name","copy","sort","a","b","price","filterBy","list","conditions","filter","isBigEnough","item","choosen","blocked","map","blockades","result","length","every","el","category","includes","block","some","checkString","data","cutAmount","slice"],"sources":["C:/foodngo/src/components/functions/sortFoodBy.tsx"],"sourcesContent":["import { Food } from \"../../models/Food\";\r\n\r\nexport function sortFoodBy(food: Food[], filtersData: any, page: number) {\r\n  const { type, inOrder } = filtersData.sortBy;\r\n  const { filters } = filtersData;\r\n  const name = filtersData.name;\r\n  function sortBy() {\r\n    let copy = [...food];\r\n    switch (type) {\r\n      case \"price\":\r\n        return copy.sort((a, b) =>\r\n          !inOrder ? a.price - b.price : b.price - a.price\r\n        );\r\n      case \"name\":\r\n        return copy.sort(function (a, b) {\r\n          if ((a.name < b.name && inOrder) || (b.name < a.name && !inOrder)) {\r\n            return -1;\r\n          }\r\n          if ((a.name > b.name && inOrder) || (b.name > a.name && !inOrder)) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        });\r\n      default:\r\n        return copy;\r\n    }\r\n  }\r\n  function filterBy(list: any) {\r\n    let conditions = filters\r\n      .filter(function isBigEnough(item: any) {\r\n        return item.choosen === true && item.blocked === false;\r\n      })\r\n      .map((item: any) => item.name);\r\n    let blockades = filters\r\n      .filter(function isBigEnough(item: any) {\r\n        return item.choosen === true && item.blocked === true;\r\n      })\r\n      .map((item: any) => item.name);\r\n    let result = list.filter(function isBigEnough(item: any) {\r\n      return conditions.length !== 0\r\n        ? conditions.every((el: any) => item.category.includes(el)) === true\r\n        : list;\r\n    });\r\n    let block = result.filter(function isBigEnough(item: any) {\r\n      return blockades.length !== 0\r\n        ? blockades.some((el: any) => item.category.includes(el)) === false\r\n        : result;\r\n    });\r\n    return block;\r\n  }\r\n\r\n  function checkString(data: any) {\r\n    return data.filter(function isBigEnough(item: any) {\r\n      return item.name.includes(name);\r\n    });\r\n  }\r\n\r\n  function cutAmount(data: any) {\r\n    return data.slice(page, 2 * page);\r\n  }\r\n\r\n  return cutAmount(checkString(filterBy(sortBy())));\r\n}\r\n\r\n// function filterBy(list: any) {\r\n//   let x = list.filter(function isBigEnough(item: any) {\r\n//     let xx = item.category;\r\n//     return xx.includes(\"Exotic\") ? item : null;\r\n//   });\r\n//   return x;\r\n// }\r\n\r\n// conditions.some((el: any) => item.category.includes(el))\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}